{"version":3,"file":"courses.min.js","sources":["../src/courses.js"],"sourcesContent":["\n\ndefine(['jquery'], function ($) {\n    'use strict';\n    return {\n        init: function () {\n            $('button[name=action-btn]').click(function () {\n                var courseId = $(this).attr('data-id');\n                var action = $(this).attr('data-action');\n                var sesskey = $('#sesskey').val();\n                var dataAction = 'sus';\n                if (action == 'sus') {\n                    dataAction = 'act';\n                }\n                if (action === 'del') {\n                    if (confirm(\"Are You sure you want to delete record ?\") == true) {\n                        $.ajax({\n                            url: M.cfg.wwwroot + \"/local/secureaccess/classes/route/courses_records.php\",\n                            method: 'POST',\n                            data: {\n                                courseId: courseId,\n                                action: action,\n                                dataAction:dataAction,\n                                sesskey: sesskey\n                            },\n                            dataType: 'json',\n                            success: function () {\n                                $('#tr-' + courseId).fadeOut(300);\n                            }, error: function (jqXHR) {\n\n                                let err = `<span>AJAX Error: ${jqXHR} <span><br><span> Error: ${jqXHR.responseText}</span>`;\n                                $('#ajx-err').html(err);\n\n                            }\n                        });\n                    }\n\n                    else {\n\n                    }\n                }\n\n            });\n        }\n    };\n});\n\n/*$(document).ready(function () {\n\n    $('button[name=action-btn]').click(function () {\n\n        var courseId = $(this).attr('data-id');\n        var action = $(this).attr('data-action');\n        var sesskey = $('#sesskey').val();\n        var btn = $(this);\n        var spanText = $('#span-' + courseId);\n        var dataAction = 'sus';\n        if (action == 'sus') {\n            dataAction = 'act';\n        }\n\n        console.log(action);\n        if (action === 'del') {\n            if (confirm(\"Are You sure you want to delete record ?\") == true) {\n                $.ajax({\n                    url: M.cfg.wwwroot + \"/local/secureaccess/classes/route/courses_records.php\",\n                    method: 'POST',\n                    data: {\n                        courseId: courseId,\n                        action: action,\n                        sesskey: sesskey\n                    },\n                    dataType: 'json',\n                    success: function (e) {\n\n                        console.log(e.data);\n                        $('#tr-' + courseId).fadeOut(300);\n                    }, error: function (jqXHR, textStatus, errorThrown) {\n                        console.error(\"AJAX Error:\");\n                        console.error(\"Status:\", textStatus);\n                        console.error(\"Thrown Error:\", errorThrown);\n                        console.error(\"Response Text:\", jqXHR.responseText);\n\n                    }\n                });\n            }\n\n            else {\n\n            }\n        }\n\n    });\n});*/\n"],"names":["define","$","init","click","courseId","this","attr","action","sesskey","val","dataAction","confirm","ajax","url","M","cfg","wwwroot","method","data","dataType","success","fadeOut","error","jqXHR","err","responseText","html"],"mappings":"AAEAA,oCAAO,CAAC,WAAW,SAAUC,SAElB,CACHC,KAAM,WACFD,EAAE,2BAA2BE,OAAM,eAC3BC,SAAWH,EAAEI,MAAMC,KAAK,WACxBC,OAASN,EAAEI,MAAMC,KAAK,eACtBE,QAAUP,EAAE,YAAYQ,MACxBC,WAAa,MACH,OAAVH,SACAG,WAAa,OAEF,QAAXH,QAC2D,GAAvDI,QAAQ,6CACRV,EAAEW,KAAK,CACHC,IAAKC,EAAEC,IAAIC,QAAU,wDACrBC,OAAQ,OACRC,KAAM,CACFd,SAAUA,SACVG,OAAQA,OACRG,WAAWA,WACXF,QAASA,SAEbW,SAAU,OACVC,QAAS,WACLnB,EAAE,OAASG,UAAUiB,QAAQ,MAC9BC,MAAO,SAAUC,WAEZC,gCAA2BD,0CAAiCA,MAAME,wBACtExB,EAAE,YAAYyB,KAAKF"}