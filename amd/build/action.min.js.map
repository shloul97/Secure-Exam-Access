{"version":3,"file":"action.min.js","sources":["../src/action.js"],"sourcesContent":["define(['jquery'], function($) {\n    'use strict';\n    return {\n        init: function() {\n            $('button[name=action-btn]').click(function(){\n\n                var deviceId = $(this).attr('data-id');\n                var action = $(this).attr('data-action');\n                var sesskey = $('#sesskey').val();\n                var btn = $(this);\n                var spanText = $('#span-'+ deviceId);\n                var dataAction = 'sus';\n                if(action == 'sus'){\n                    dataAction = 'act';\n                }\n                if(action === 'del'){\n                    if (confirm(\"Are You sure you want to delete record ?\") == true) {\n                        $.ajax({\n                            url: M.cfg.wwwroot + \"/local/secureaccess/classes/route/action.php\",\n                            method: 'POST',\n                            data: {\n                                deviceId : deviceId,\n                                action: action,\n                                sesskey: sesskey},\n                            dataType: 'json',\n                            success: function() {\n                                $('#tr-'+deviceId).fadeOut(300);\n                            }\n                        });\n                    }\n\n                    else {\n\n                    }\n                }\n                else{\n                    $.ajax({\n                        url: M.cfg.wwwroot + \"/local/secureaccess/classes/route/action.php\",\n                        method: 'POST',\n                        data: {\n                            deviceId : deviceId,\n                            action: action,\n                            sesskey: sesskey},\n                        dataType: 'json',\n                        success: function() {\n                            if(action != 'del'){\n                                btn.attr('data-action',dataAction);\n                                btn.toggleClass('btn-warning btn-success');\n                                if (btn.html() === \"Suspend\") {\n                                    btn.html(\"Activate\");\n                                    spanText.html(\"Inactive\");\n                                } else {\n                                    btn.html(\"Suspend\");\n                                    spanText.html(\"Active\");\n                                }\n\n                                spanText.toggleClass('text-success text-danger');\n                            }\n\n                        }\n                    });\n                }\n            });\n        }\n    };\n});\n"],"names":["define","$","init","click","deviceId","this","attr","action","sesskey","val","btn","spanText","dataAction","confirm","ajax","url","M","cfg","wwwroot","method","data","dataType","success","fadeOut","toggleClass","html"],"mappings":"AAAAA,+BAAO,CAAC,WAAW,SAASC,SAEjB,CACHC,KAAM,WACFD,EAAE,2BAA2BE,OAAM,eAE3BC,SAAWH,EAAEI,MAAMC,KAAK,WACxBC,OAASN,EAAEI,MAAMC,KAAK,eACtBE,QAAUP,EAAE,YAAYQ,MACxBC,IAAMT,EAAEI,MACRM,SAAWV,EAAE,SAAUG,UACvBQ,WAAa,MACJ,OAAVL,SACCK,WAAa,OAEH,QAAXL,OAC4D,GAAvDM,QAAQ,6CACRZ,EAAEa,KAAK,CACHC,IAAKC,EAAEC,IAAIC,QAAU,2CACrBC,OAAQ,OACRC,KAAM,CACFhB,SAAWA,SACXG,OAAQA,OACRC,QAASA,SACba,SAAU,OACVC,QAAS,WACLrB,EAAE,OAAOG,UAAUmB,QAAQ,QAUvCtB,EAAEa,KAAK,CACHC,IAAKC,EAAEC,IAAIC,QAAU,2CACrBC,OAAQ,OACRC,KAAM,CACFhB,SAAWA,SACXG,OAAQA,OACRC,QAASA,SACba,SAAU,OACVC,QAAS,WACQ,OAAVf,SACCG,IAAIJ,KAAK,cAAcM,YACvBF,IAAIc,YAAY,2BACG,YAAfd,IAAIe,QACJf,IAAIe,KAAK,YACTd,SAASc,KAAK,cAEdf,IAAIe,KAAK,WACTd,SAASc,KAAK,WAGlBd,SAASa,YAAY"}